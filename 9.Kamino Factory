using System;
using System.Linq;

namespace _8._Kamino_Factory
{
    class Program
    {
        static void Main(string[] args)
        {
            var lenghtOfSequences = int.Parse(Console.ReadLine());

            var currentRow = 0;

            var bestDNA = new int[lenghtOfSequences];
            var bestLenght = 0;
            var bestIndex = 0;
            var bestRow = 0;
            var bestSum = 0;

            var input = String.Empty;
            while ((input = Console.ReadLine()) != "Clone them!")
            {
                var currentDNA = input
                    .Split("!", StringSplitOptions.RemoveEmptyEntries)
                    .Select(int.Parse)
                    .ToArray();

                currentRow++;

                var currentSum = currentDNA.Sum();
                var currentLenght = 0;
                var currentLeftMostIndex = 0;

                for (int i = 0; i < lenghtOfSequences; i++)
                {

                    if (currentDNA[i] == 1)
                    {
                        currentLenght++;

                        if (currentLenght == 1)
                        {
                            currentLeftMostIndex = i;
                        }

                        if (currentLenght > bestLenght || currentLenght == bestLenght && (currentLeftMostIndex < bestIndex || currentSum > bestSum))
                        {
                            bestDNA = currentDNA;
                            bestLenght = currentLenght;
                            bestIndex = currentLeftMostIndex;
                            bestRow = currentRow;
                            bestSum = currentSum;
                        }
                    }
                    else
                    {
                        currentLenght = 0;
                        currentLeftMostIndex = 0;
                    }

                }

                if (bestRow == 0)
                {
                    bestRow = 1;
                }
            }
            Console.WriteLine($"Best DNA sample {bestRow} with sum: {bestDNA.Sum()}." + Environment.NewLine
                + $"{String.Join(" ", bestDNA)}");
        }
    }
}
